{{ define "main" }}



{{ $pages := where .Site.RegularPages "Type" "in" .Site.Params.mainSections }}
{{ $paginator := .Paginate ($pages.GroupByDate "2006") }}

{{ if eq ($paginator.PageNumber) 1 }}
  {{ .Content }}
{{ end }}

{{ range $paginator.PageGroups }}
<h2 class="list__key">{{ .Key }}</h2>
<ul>
    {{ range .Pages }}
    <li>
      {{ partial "pages/list-yearwise.html" . }}
    </li>
    {{ end }}
</ul>
{{ end }}

<div class="home__pager">
<div>
  {{ with $paginator.HasPrev }}
    <a href="{{ $paginator.Prev.URL }}"><- newer </a>
  {{ end }}
</div>
<div>
  {{ with $paginator.HasNext }}
    <a href="{{ $paginator.Next.URL }}">older -> </a>
  {{ end }}
</div>
</div>
{{ end }}
