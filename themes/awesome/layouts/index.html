{{ define "main" }}

{{ .Content }}

{{ $pages := where .Site.RegularPages "Type" "in" .Site.Params.mainSections }}
{{ $paginator := .Paginate ($pages.GroupByDate "2006") }}

{{ range $paginator.PageGroups }}
<h2>{{ .Key }}</h2>
<ul>
    {{ range .Pages }}
    <li>
      {{ partial "pages/list_common.html" . }}
    </li>
    {{ end }}
</ul>
{{ end }}

<div class="home__pager">
<div>
  {{ with $paginator.HasPrev }}
    <a href="{{ $paginator.Prev.URL }}"><- newer posts</a>
  {{ end }}
</div>
<div>
  {{ with $paginator.HasNext }}
    <a href="{{ $paginator.Next.URL }}">older posts -> </a>
  {{ end }}
</div>
</div>
{{ end }}
