<!doctype html><html lang=en><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Names of colours don&rsquo;t convey their image very well. What does #714825 looks like? I wrote a shortcode that shows previews of colours in Hugo, so you can see them and don&rsquo;t have to imagine them."><meta property="og:title" content="Hugo Colour Shortcode"><meta property="og:description" content="Names of colours don&rsquo;t convey their image very well. What does #714825 looks like? I wrote a shortcode that shows previews of colours in Hugo, so you can see them and don&rsquo;t have to imagine them."><meta property="og:type" content="article"><meta property="og:url" content="https://pranshugaba.com/dev/hugo-colour-shortcode/"><meta property="og:image" content="https://res.cloudinary.com/pranshugaba/image/upload/w_1280,h_669,c_fill,q_auto,f_auto/w_1130,c_fit,co_rgb:f7f0ff,g_south_west,x_60,y_240,l_text:plex-semibold.ttf_80_line_spacing_1:Hugo Colour Shortcode/w_1130,c_fit,co_rgb:f7f0ff,g_north_west,x_60,y_480,l_text:plex-regular.ttf_48_line_spacing_3:A fun way to show previews of colours in Hugo/social_image.png"><meta property="twitter:image" content="https://res.cloudinary.com/pranshugaba/image/upload/w_1280,h_669,c_fill,q_auto,f_auto/w_1130,c_fit,co_rgb:f7f0ff,g_south_west,x_60,y_240,l_text:plex-semibold.ttf_80_line_spacing_1:Hugo Colour Shortcode/w_1130,c_fit,co_rgb:f7f0ff,g_north_west,x_60,y_480,l_text:plex-regular.ttf_48_line_spacing_3:A fun way to show previews of colours in Hugo/social_image.png"><meta property="article:section" content="dev"><meta property="article:published_time" content="2021-07-21T17:30:00+05:30"><meta property="article:modified_time" content="2021-07-21T17:30:00+05:30"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@pranshugaba"><meta name=twitter:title content="Hugo Colour Shortcode"><meta name=twitter:description content="Names of colours don&rsquo;t convey their image very well. What does #714825 looks like? I wrote a shortcode that shows previews of colours in Hugo, so you can see them and don&rsquo;t have to imagine them."><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/svg+xml href=/favicon.svg><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><link rel=mask-icon href=/safari-pinned-tab.svg color=#1f003d><meta name=msapplication-TileColor content="#2b5797"><meta name=theme-color content="#faf5ff"><link rel=stylesheet href=https://pranshugaba.com/css/main.52068db3efef1cd4656d500f0112764d91302f4e4813096484f74eef67283cac.css><title>Hugo Colour Shortcode |
Pranshu Gaba</title></head><body><div class=wrapper><header><a class=skip__nav href=#content>skip to main content</a><nav class=site__header><div class="[ header__logo ] [ plain-link ]"><a href=/>Pranshu Gaba</a></div><div class="[ header__sections ] [ plain-link ]"><a href=/about/>about</a>
<a href=/contact/>contact</a>
<a href=/now/>now</a>
<a href=/blog/>blog</a></div></nav></header><main class="dev content-width" id=content><article class="[ flow ]"><header class="[ page__header ] [ flow ]"><div class=page__date><time datetime=2021-07-21>Wednesday, 21 July 2021</time></div><p class=page__id></p><h1 class=page__title>Hugo Colour Shortcode</h1><p class=page__subtitle>A fun way to show previews of colours in Hugo</p></header><div><div class="[ page__content ] [ flow ]"><p>I was writing a <a href=https://pranshugaba.com/dev/moving-back-to-hugo/>post about my new Hugo website</a>, and I wanted to describe the colours used on this site. I wrote the names of the colours, but names do not convey the colour very well. Can you imagine what the colour #714825 looks like? What about rgb(0, 100, 255)?</p><p>I thought it would be great if the reader could also see a preview of the colours. I could add images of the colours that I am describing, but that is a lot of work and not very flexible. This is what led me to write this Hugo shortcode. I followed the <a href=https://gohugo.io/templates/shortcode-templates/ target=_blank rel=noopener>Hugo docs on shortcodes</a> for reference.</p><h2 id=usage>Usage</h2><p>The following code in markdown<div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>This is a colour shortcode {{&lt; colour &#34;#ff0000&#34; &gt;}}.</span></span></code></pre></div></p><p>renders as</p><p>This is a colour shortcode
<code style=background-color:red><span style=color:red;filter:grayscale(1)invert(1)contrast(100)>#ff0000</span></code>.</p><p>This works with all valid CSS colour syntaxes, not just hexcodes. Here are some examples:</p><ul><li><code style=background-color:#714285><span style=color:#714285;filter:grayscale(1)invert(1)contrast(100)>#714285</span></code></li><li><code style=background-color:#0064ff><span style=color:#0064ff;filter:grayscale(1)invert(1)contrast(100)>rgb(0, 100, 255)</span></code></li><li><code style=background-color:#ffefd5><span style=color:#ffefd5;filter:grayscale(1)invert(1)contrast(100)>hsl(37.1, 100%, 91.8%)</span></code></li><li><code style=background-color:#7fffd4><span style=color:#7fffd4;filter:grayscale(1)invert(1)contrast(100)>aquamarine</span></code></li></ul><h2 id=shortcode>Shortcode</h2><p>I created a file named <code>colour.html</code> in <code>layouts/shortcodes</code>, and added the following code in it. We can now access this code in any markdown file using the <code>colour</code> shortcode.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=p>{{</span> <span class=err>$</span><span class=nx>colour</span> <span class=o>:=</span> <span class=p>.</span><span class=nx>Get</span> <span class=mi>0</span> <span class=p>|</span> <span class=nx>safeCSS</span> <span class=p>}}</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nx>code</span> <span class=nx>style</span><span class=p>=</span><span class=s>&#34;background-color: {{ $colour }};&#34;</span><span class=p>&gt;</span> 
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nx>span</span> <span class=nx>style</span><span class=p>=</span><span class=s>&#34;
</span></span></span><span class=line><span class=cl><span class=s>      color: {{ $colour }};
</span></span></span><span class=line><span class=cl><span class=s>      filter:  grayscale(1) invert(1) contrast(100);
</span></span></span><span class=line><span class=cl><span class=s>      &#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>{{</span> <span class=err>$</span><span class=nx>colour</span> <span class=p>}}</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=o>/</span><span class=nx>span</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=o>/</span><span class=nx>code</span><span class=p>&gt;</span>
</span></span></code></pre></div><p>The shortcode takes in an argument: <code>$colour</code>. We use this parameter to set the text in the <code>code</code> tag, and we set both the text colour and the background colour to <code>$colour</code>. We then invert the colour of the text and increase the contrast to make the name of the colour legible. The end result is that the text is white if colour is bright, and black if it is dark.</p><aside class="admonition note"><div class=admonition__title>Note</div><div class=admonition__content><p>While the shortcode syntax is specific to Hugo, most templating languages have a way to pass in variables. It should be possible to adapt this code for the templating language that you use.</p></div></aside><h2 id=limitations>Limitations</h2><p>This works well in most cases, but it has some limitations.</p><ul><li><p>When the luminosity of the colour is close to 50% and the saturation is low, neither black nor white text has enough contrast with the chosen colour, and the text is not as legible. Example:
<code style=background-color:#738c8c><span style=color:#738c8c;filter:grayscale(1)invert(1)contrast(100)>hsl(180, 10%, 50%)</span></code></p></li><li><p>The text is not legible when the colour is transparent. This is because the text is transparent too, and does not have enough contrast with the background. Example:
<code style=background-color:rgba(120,0,240,.3)><span style=color:rgba(120,0,240,.3);filter:grayscale(1)invert(1)contrast(100)>rgba(120, 0, 240, 0.3)</span></code></p></li></ul><h2 id=alternate-style>Alternate style</h2><p>Here&rsquo;s another style of previewing colours.</p><ul><li><code><span style=display:inline-block;width:1.6ch;height:1.6ch;border-radius:.1rem;background-color:#714285;margin-right:5px></span>#714285</code></li><li><code><span style=display:inline-block;width:1.6ch;height:1.6ch;border-radius:.1rem;background-color:#0064ff;margin-right:5px></span>rgb(0, 100, 255)</code></li><li><code><span style=display:inline-block;width:1.6ch;height:1.6ch;border-radius:.1rem;background-color:#ffefd5;margin-right:5px></span>hsl(37.1, 100%, 91.8%)</code></li><li><code><span style=display:inline-block;width:1.6ch;height:1.6ch;border-radius:.1rem;background-color:#7fffd4;margin-right:5px></span>aquamarine</code></li></ul><p>The text is always legible, but the colour preview is smaller.</p><p>Here&rsquo;s the shortcode for this style:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=p>{{</span> <span class=err>$</span><span class=nx>colour</span> <span class=o>:=</span> <span class=p>.</span><span class=nx>Get</span> <span class=mi>0</span> <span class=p>|</span> <span class=nx>safeCSS</span> <span class=p>}}</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nx>code</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nx>span</span> <span class=nx>style</span><span class=p>=</span><span class=s>&#34;display: inline-block;
</span></span></span><span class=line><span class=cl><span class=s>    width: 1.6ch;
</span></span></span><span class=line><span class=cl><span class=s>    height: 1.6ch;
</span></span></span><span class=line><span class=cl><span class=s>    border-radius: 0.1rem;
</span></span></span><span class=line><span class=cl><span class=s>    background-color: {{ $colour }};
</span></span></span><span class=line><span class=cl><span class=s>    margin-right:5px;&#34;</span><span class=p>&gt;&lt;</span><span class=o>/</span><span class=nx>span</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>{{</span> <span class=err>$</span><span class=nx>colour</span> <span class=p>}}</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=o>/</span><span class=nx>code</span><span class=p>&gt;</span>
</span></span></code></pre></div><hr><p><a href=https://pranshugaba.com/contact/>Let me know</a> if you liked this shortcode, and which style you liked more. Feel free to use this code in your site and share your implementation with me. If you have any suggestions to improve this code, share those with me too.</p></div></div><div class=page__navtags><h2 class=page__tags__heading>Tags</h2><ul class=page__tags><li><a class=page__tags__link href=https://pranshugaba.com/tags/hugo/>hugo</a></li><li><a class=page__tags__link href=https://pranshugaba.com/tags/shortcodes/>shortcodes</a></li><li><a class=page__tags__link href=https://pranshugaba.com/tags/colours/>colours</a></li></ul></div></article><div class=page__related><h2 class=page__related__heading>Related pages</h2><ul class=page__related__ul><li><a href=https://pranshugaba.com/poems/blue/>blue</a></li><li><a href=https://pranshugaba.com/dev/moving-back-to-hugo/>...and Back to Hugo Again</a></li><li><a href=https://pranshugaba.com/dev/moving-from-hugo-to-nuxt/>Moving my site from Hugo to Nuxt.js...</a></li></ul></div><nav class=page__nav><h2 class=page__nav__heading>More dev articles</h2><div class=page__nav__prev><div class=page__nav__prev__title><span>&#8592;</span> Previous dev article</div><a href=https://pranshugaba.com/dev/moving-back-to-hugo/>...and Back to Hugo Again</a></div><div class=page__nav__next><div class=page__nav__next__title>Next dev article <span>&#8594;</span></div><a href=https://pranshugaba.com/dev/i-broke-my-arch/>I broke my Arch System</a></div><div class=page__seeall><a href=/dev class=page__seeall__link>See all dev articles &#8594;</a></div></nav></main><footer class=site__footer><div class="[ footer__copyright ] [ plain-link ]"><a href=/licence/>Â© 2024 Pranshu Gaba</a></div><div class="[ footer__links ] [ plain-link ]"><a href=/archive/>archive</a>
<a href=/subscribe/>subscribe</a>
<a href=/tags/>tags</a>
<button class=dark-mode-toggle role=button tabindex=0>toggle lights</button></div></footer></div></body><script>let darkMode=localStorage.getItem("darkMode");const darkModeToggle=document.querySelector(".dark-mode-toggle"),enableDarkMode=()=>{document.documentElement.classList.add("dark-mode"),localStorage.setItem("darkMode","enabled")},disableDarkMode=()=>{document.documentElement.classList.remove("dark-mode"),localStorage.setItem("darkMode","disabled")};darkMode==="enabled"?enableDarkMode():darkMode==="disabled"?disableDarkMode():window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&enableDarkMode(),darkModeToggle.addEventListener("click",()=>{darkMode=localStorage.getItem("darkMode"),darkMode!=="enabled"?enableDarkMode():disableDarkMode()})</script></html>