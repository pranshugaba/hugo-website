<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Names of colours don&rsquo;t convey their image very well. What does #714825 looks like? I wrote a shortcode that shows previews of colours in Hugo, so you can see them and don&rsquo;t have to imagine them."><meta property="og:title" content="Hugo Colour Shortcode"><meta property="og:description" content="Names of colours don&rsquo;t convey their image very well. What does #714825 looks like? I wrote a shortcode that shows previews of colours in Hugo, so you can see them and don&rsquo;t have to imagine them."><meta property="og:type" content="article"><meta property="og:url" content="https://pranshugaba.com/dev/hugo-colour-shortcode/"><meta property="og:image" content="https://res.cloudinary.com/pranshugaba/image/upload/w_1280,h_669,c_fill,q_auto,f_auto/w_770,c_fit,co_rgb:121212,g_south_west,x_480,y_375,l_text:inter-semibold.ttf_80_line_spacing_-6_letter_spacing_-3:Hugo Colour Shortcode/w_750,c_fit,co_rgb:121212,g_north_west,x_480,y_350,l_text:inter-regular.ttf_56_letter_spacing_-1:A fun way to show previews of colours in Hugo/social.png"><meta property="twitter:image" content="https://res.cloudinary.com/pranshugaba/image/upload/w_1280,h_669,c_fill,q_auto,f_auto/w_770,c_fit,co_rgb:121212,g_south_west,x_480,y_375,l_text:inter-semibold.ttf_80_line_spacing_-6_letter_spacing_-3:Hugo Colour Shortcode/w_750,c_fit,co_rgb:121212,g_north_west,x_480,y_350,l_text:inter-regular.ttf_56_letter_spacing_-1:A fun way to show previews of colours in Hugo/social.png"><meta property="article:section" content="dev"><meta property="article:published_time" content="2021-07-21T17:30:00+05:30"><meta property="article:modified_time" content="2021-07-21T17:30:00+05:30"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@pranshugaba"><meta name=twitter:title content="Hugo Colour Shortcode"><meta name=twitter:description content="Names of colours don&rsquo;t convey their image very well. What does #714825 looks like? I wrote a shortcode that shows previews of colours in Hugo, so you can see them and don&rsquo;t have to imagine them."><link rel=icon type=image/png href=/icon.png><link rel=stylesheet href=https://pranshugaba.com/css/main.85c4f8073cfc9cc13e53c4e3c4e20114b5cbdc8c2185a94eb9c84bc84d585388.css><title>Hugo Colour Shortcode |
Pranshu Gaba</title></head><body><header><nav class=header><div class=header__logo><a href=/>Pranshu Gaba</a></div><div class=header__sections><a href=/about/>about</a>
<a href=/contact/>contact</a>
<a href=/now/>now</a>
<a href=/explore/>explore</a></div></nav></header><div class=dev id=content><h1 class=page__title>Hugo Colour Shortcode</h1><h2 class=page__subtitle>A fun way to show previews of colours in Hugo</h2><div class=page__date>Wednesday, 21 July 2021</div><div class=page__content><p>I was writing a <a href=https://pranshugaba.com/dev/moving-back-to-hugo/>post about my new Hugo website</a>, and I wanted to describe the colours used on this site. I wrote the names of the colours, but names do not convey the colour very well. Can you imagine what the colour #714825 looks like? What about rgb(0, 100, 255)?</p><p>I thought it would be great if the reader could also see a preview of the colours. I could add images of the colours that I am describing, but that is a lot of work and not very flexible. This is what led me to write this Hugo shortcode. I followed the <a href=https://gohugo.io/templates/shortcode-templates/ target=_blank rel=noopener>Hugo docs on shortcodes</a> for reference.</p><h2 id=usage>Usage</h2><p>The following code in markdown<div class=highlight><pre style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>This is a colour shortcode {{&lt; colour &#34;#ff0000&#34; &gt;}}.</code></pre></div></p><p>renders as</p><p>This is a colour shortcode
<code style=background-color:red><span style=color:red;filter:grayscale(1)invert(1)contrast(100)>#ff0000</span></code>.</p><p>This works with all valid CSS colour syntaxes, not just hexcodes. Here are some examples:</p><ul><li><code style=background-color:#714285><span style=color:#714285;filter:grayscale(1)invert(1)contrast(100)>#714285</span></code></li><li><code style=background-color:#0064ff><span style=color:#0064ff;filter:grayscale(1)invert(1)contrast(100)>rgb(0, 100, 255)</span></code></li><li><code style=background-color:#ffefd5><span style=color:#ffefd5;filter:grayscale(1)invert(1)contrast(100)>hsl(37.1, 100%, 91.8%)</span></code></li><li><code style=background-color:#7fffd4><span style=color:#7fffd4;filter:grayscale(1)invert(1)contrast(100)>aquamarine</span></code></li></ul><h2 id=shortcode>Shortcode</h2><p>I created a file named <code>colour.html</code> in <code>layouts/shortcodes</code>, and added the following code in it. We can now access this code in any markdown file using the <code>colour</code> shortcode.</p><div class=highlight><pre style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go>{{ <span style=color:#ef6155>$</span><span style=color:#06b6ef>colour</span> <span style=color:#5bc4bf>:=</span> .<span style=color:#06b6ef>Get</span> <span style=color:#f99b15>0</span> | <span style=color:#06b6ef>safeCSS</span> }}
&lt;<span style=color:#06b6ef>code</span> <span style=color:#06b6ef>style</span>=<span style=color:#48b685>&#34;background-color: {{ $colour }};&#34;</span>&gt; 
  &lt;<span style=color:#06b6ef>span</span> <span style=color:#06b6ef>style</span>=<span style=color:#48b685>&#34;
</span><span style=color:#48b685>      color: {{ $colour }};
</span><span style=color:#48b685>      filter:  grayscale(1) invert(1) contrast(100);
</span><span style=color:#48b685>      &#34;</span>&gt;
      {{ <span style=color:#ef6155>$</span><span style=color:#06b6ef>colour</span> }}
  &lt;<span style=color:#5bc4bf>/</span><span style=color:#06b6ef>span</span>&gt;
&lt;<span style=color:#5bc4bf>/</span><span style=color:#06b6ef>code</span>&gt;
</code></pre></div><p>The shortcode takes in an argument: <code>$colour</code>. We use this parameter to set the text in the <code>code</code> tag, and we set both the text colour and the background colour to <code>$colour</code>. We then invert the colour of the text and increase the contrast to make the name of the colour legible. The end result is that the text is white if colour is bright, and black if it is dark.</p><aside class=admonition><div class=admonition__title>Note</div><div class=admonition__content><p>While the shortcode syntax is specific to Hugo, most templating languages have a way to pass in variables. It should be possible to adapt this code for the templating language that you use.</p></div></aside><h2 id=limitations>Limitations</h2><p>This works well in most cases, but it has some limitations.</p><ul><li><p>When the luminosity of the colour is close to 50% and the saturation is low, neither black nor white text has enough contrast with the chosen colour, and the text is not as legible. Example:
<code style=background-color:#738c8c><span style=color:#738c8c;filter:grayscale(1)invert(1)contrast(100)>hsl(180, 10%, 50%)</span></code></p></li><li><p>The text is not legible when the colour is transparent. This is because the text is transparent too, and does not have enough contrast with the background. Example:
<code style=background-color:rgba(120,0,240,.3)><span style=color:rgba(120,0,240,.3);filter:grayscale(1)invert(1)contrast(100)>rgba(120, 0, 240, 0.3)</span></code></p></li></ul><h2 id=alternate-style>Alternate style</h2><p>Here&rsquo;s another style of previewing colours.</p><ul><li><code><span style=display:inline-block;width:1.6ch;height:1.6ch;border-radius:.1rem;background-color:#714285;margin-right:5px></span>#714285</code></li><li><code><span style=display:inline-block;width:1.6ch;height:1.6ch;border-radius:.1rem;background-color:#0064ff;margin-right:5px></span>rgb(0, 100, 255)</code></li><li><code><span style=display:inline-block;width:1.6ch;height:1.6ch;border-radius:.1rem;background-color:#ffefd5;margin-right:5px></span>hsl(37.1, 100%, 91.8%)</code></li><li><code><span style=display:inline-block;width:1.6ch;height:1.6ch;border-radius:.1rem;background-color:#7fffd4;margin-right:5px></span>aquamarine</code></li></ul><p>The text is always legible, but the colour preview is smaller.</p><p>Here&rsquo;s the shortcode for this style:</p><div class=highlight><pre style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go>{{ <span style=color:#ef6155>$</span><span style=color:#06b6ef>colour</span> <span style=color:#5bc4bf>:=</span> .<span style=color:#06b6ef>Get</span> <span style=color:#f99b15>0</span> | <span style=color:#06b6ef>safeCSS</span> }}
&lt;<span style=color:#06b6ef>code</span>&gt;
&lt;<span style=color:#06b6ef>span</span> <span style=color:#06b6ef>style</span>=<span style=color:#48b685>&#34;display: inline-block;
</span><span style=color:#48b685>    width: 1.6ch;
</span><span style=color:#48b685>    height: 1.6ch;
</span><span style=color:#48b685>    border-radius: 0.1rem;
</span><span style=color:#48b685>    background-color: {{ $colour }};
</span><span style=color:#48b685>    margin-right:5px;&#34;</span>&gt;&lt;<span style=color:#5bc4bf>/</span><span style=color:#06b6ef>span</span>&gt;
    {{ <span style=color:#ef6155>$</span><span style=color:#06b6ef>colour</span> }}
&lt;<span style=color:#5bc4bf>/</span><span style=color:#06b6ef>code</span>&gt;
</code></pre></div><hr><p><a href=https://pranshugaba.com/contact/>Let me know</a> if you liked this shortcode, and which style you liked more. Feel free to use this code in your site and share your implementation with me. If you have any suggestions to improve this code, share those with me too.</p></div><div class=page__navtags><ul class=page__tags><li><a href=https://pranshugaba.com/tags/hugo/>hugo</a></li><li><a href=https://pranshugaba.com/tags/shortcodes/>shortcodes</a></li><li><a href=https://pranshugaba.com/tags/colours/>colours</a></li></ul><div class=page__all><a href=/dev>all dev</a></div></div><div class=page__nav><div class=page__prevnext><div class=page__prev><div>&lt;-</div><a href=https://pranshugaba.com/dev/moving-back-to-hugo/>...and Back to Hugo Again</a></div><div class=page__next><div>-></div><a href=https://pranshugaba.com/trips/a-new-cycle/>A New Cycle</a></div></div></div></div><footer class=footer><div class=footer__copyright><a href=/licence/>© 2021 Pranshu Gaba</a></div><div class=footer__links><button id=dark-mode-toggle role=button tabindex=0>toggle lights</button></div></footer></body><script>let darkMode=localStorage.getItem('darkMode');const darkModeToggle=document.querySelector('#dark-mode-toggle'),enableDarkMode=()=>{document.body.classList.add('dark-mode'),localStorage.setItem('darkMode','enabled')},disableDarkMode=()=>{document.body.classList.remove('dark-mode'),localStorage.setItem('darkMode','disabled')};darkMode==='enabled'?enableDarkMode():darkMode==='disabled'?disableDarkMode():window.matchMedia&&window.matchMedia('(prefers-color-scheme: dark)').matches&&enableDarkMode(),darkModeToggle.addEventListener('click',()=>{darkMode=localStorage.getItem('darkMode'),darkMode!=='enabled'?enableDarkMode():disableDarkMode()})</script></html>