<!doctype html><html lang=en><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="I updated my Arch system, and all I would get is a black screen. I fixed it by rebuilding some AUR packages."><meta property="og:title" content="I broke my Arch System"><meta property="og:description" content="I updated my Arch system, and all I would get is a black screen. I fixed it by rebuilding some AUR packages."><meta property="og:type" content="article"><meta property="og:url" content="https://pranshugaba.com/dev/i-broke-my-arch/"><meta property="og:image" content="https://pranshugaba.com/social/social_hu_d358999d64c840f3.png"><meta property="twitter:image" content="https://pranshugaba.com/social/social_hu_d358999d64c840f3.png"><meta property="article:section" content="dev"><meta property="article:published_time" content="2021-12-22T17:30:00+05:30"><meta property="article:modified_time" content="2021-12-22T17:30:00+05:30"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@pranshugaba"><meta name=twitter:title content="I broke my Arch System"><meta name=twitter:description content="I updated my Arch system, and all I would get is a black screen. I fixed it by rebuilding some AUR packages."><link rel=icon type=image/svg+xml href=/favicon.svg><link rel=icon type=image/png href=/favicon-96x96.png sizes=96x96><link rel="shortcut icon" href=/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><meta name=apple-mobile-web-app-title content="PG"><link rel=manifest href=/site.webmanifest><meta name=theme-color content="#f7f0ff"><link rel=stylesheet href=https://pranshugaba.com/css/main.42649840553ba4aecf43d6840d4a8a92e52fb2446dd1d825c01ee8e889c06842.css><title>I broke my Arch System |
Pranshu Gaba</title></head><body><div class=wrapper><header><a class=skip__nav href=#content>skip to main content</a><nav class=site__header><div class="[ header__logo ] [ plain-link ]"><a href=/>Pranshu Gaba</a></div><div class="[ header__sections ] [ plain-link ]"><a href=/about/>about</a>
<a href=/contact/>contact</a>
<a href=/now/>now</a>
<a href=/blog/>blog</a></div></nav></header><main class="dev content-width" id=content><article class="[ flow ]"><header class="[ page__header ] [ flow ]"><div class=page__date><time datetime=2021-12-22>Wednesday, 22 December 2021</time></div><p class=page__id></p><h1 class=page__title>I broke my Arch System</h1><p class=page__subtitle>I updated my system, and now I only see a black screen</p></header><div><div class="[ page__content ] [ flow ]"><p>Today, I updated my system running Arch Linux after a month using <code>pacman -Syu</code>. I rebooted my system to find a black screen instead of the SDDM login screen. I tried pressing the Caps Lock key, and I could see its light toggle. This meant that things were not that bad.</p><p>I changed the tty using <kbd>Ctrl</kbd> + <kbd>Alt</kbd> + <kbd>F2</kbd> and logged in to my system. I tried downgrading the Linux kernel but that didn&rsquo;t help. I tried disabling the optimus-manager and sddm services, and tried starting the Xorg server using <code>startx</code> or <code>xinit</code>. None of this worked.</p><p>The fix was to rebuild the optimus-manager package. It turns out that Python was upgraded from 3.9 to 3.10 in the update, and this broke Optimus Manager. I rebuilt it, and I am able to access the login screen and my window manager again.</p><p>I could see that some of my AUR packages were still built using older versions of Python using this command:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>pacman -Qoq /usr/lib/python3.9
</span></span></code></pre></div><p>I rebuilt all those packages to use the latest Python version.
I also finally installed <code>yay</code> to manage all my AUR packages.</p></div></div><div class=page__navtags><h2 class=page__tags__heading>Tags</h2><ul class=page__tags><li><a class=page__tags__link href=https://pranshugaba.com/tags/linux/>linux</a></li><li><a class=page__tags__link href=https://pranshugaba.com/tags/arch-linux/>arch linux</a></li><li><a class=page__tags__link href=https://pranshugaba.com/tags/pacman/>pacman</a></li></ul></div></article><div class=page__related><h2 class=page__related__heading>Related pages</h2><ul class=page__related__ul><li><a href=https://pranshugaba.com/articles/using-your-phone-as-a-presentation-clicker-and-pointer/>Using your phone as a presentation clicker and pointer</a></li><li><a href=https://pranshugaba.com/articles/wellbeing-in-gnome-48/>Wellbeing in GNOME 48</a></li></ul></div><nav class=page__nav><h2 class=page__nav__heading>More dev articles</h2><div class=page__nav__prev><div class=page__nav__prev__title><span>&#8592;</span> Previous dev article</div><a href=https://pranshugaba.com/dev/hugo-colour-shortcode/>Hugo Colour Shortcode</a></div><div class=page__nav__next><div class=page__nav__next__title>Next dev article <span>&#8594;</span></div><a href=https://pranshugaba.com/dev/godot-4-released/>Godot 4.0 released</a></div><div class=page__seeall><a href=/dev class=page__seeall__link>See all dev articles &#8594;</a></div></nav></main><footer class=site__footer><div class="[ footer__copyright ] [ plain-link ]"><a href=/licence/>Â© 2025 Pranshu Gaba</a></div><div class="[ footer__links ] [ plain-link ]"><a href=/archive/>archive</a>
<a href=/subscribe/>subscribe</a>
<a href=/tags/>tags</a>
<button class=dark-mode-toggle role=button tabindex=0>toggle lights</button></div></footer></div></body><script>let darkMode=localStorage.getItem("darkMode");const darkModeToggle=document.querySelector(".dark-mode-toggle"),enableDarkMode=()=>{document.documentElement.classList.add("dark-mode"),localStorage.setItem("darkMode","enabled")},disableDarkMode=()=>{document.documentElement.classList.remove("dark-mode"),localStorage.setItem("darkMode","disabled")};darkMode==="enabled"?enableDarkMode():darkMode==="disabled"?disableDarkMode():window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&enableDarkMode(),darkModeToggle.addEventListener("click",()=>{darkMode=localStorage.getItem("darkMode"),darkMode!=="enabled"?enableDarkMode():disableDarkMode()})</script></html>