<?xml version="1.0" encoding="utf-8" standalone="yes"?><?xml-stylesheet href="/pretty-feed-v3.xsl" type="text/xsl"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Gorai by Pranshu Gaba</title><link>https://pranshugaba.com/tags/gorai/</link><description/><generator>Hugo -- gohugo.io</generator><language>en</language><managingEditor>pranshu@pranshugaba.com (Pranshu Gaba)</managingEditor><webMaster>pranshu@pranshugaba.com (Pranshu Gaba)</webMaster><copyright>This work is licensed under a Creative Commons Attribution-ShareAlike 4.0 International License.</copyright><lastBuildDate>Sat, 23 Mar 2024 14:43:02 +0530</lastBuildDate><image><url>https://pranshugaba.com/tags/gorai/icon.png</url></image><atom:link href="https://pranshugaba.com/tags/gorai/index.xml" rel="self" type="application/rss+xml"/><item><title>Cycling to Gorai</title><link>https://pranshugaba.com/trips/cycling-to-gorai/</link><pubDate>Fri, 30 Jul 2021 14:00:00 +0530</pubDate><guid>https://pranshugaba.com/trips/cycling-to-gorai/</guid><description>
<![CDATA[<h2 id="map">Map</h2>





    






<div>
  <div id="gorai" class="maplibre-map"></div>
  <div class="route__metadata">
    <div class="route__name">
      <div>
        <p id="gorai__name"></p>
        
          <p id="gorai__start-time"></p>
        
      </div>
      
        <p id="gorai__type"></p>
      
    </div>
    
      <div class="route__stats">
        <p id="gorai__distance"></p>
        <p id="gorai__duration"></p>
        <p id="gorai__speed"></p>
      </div>
    
  </div>
</div>
<script>
  fetch("gorai.geojson") 
    .then(response => response.json())
    .then(data => {
      const gj = data;
      const initialCoords = [72.82, 19.22]; 
      const initialZoom = 12;

      const maxBoundPadding = 0.42;

      const routeName = getRouteName(gj);

      const activityType = getActivityType(gj);
      
      const coordinates = getCoordinates(gj);
      

      const bounds = coordinates.reduce((bounds, coord) => 
        { return bounds.extend(coord); },
        new maplibregl.LngLatBounds(coordinates[0], coordinates[0]));
       
      const maxBoundSW = [ bounds._sw.lng - maxBoundPadding, bounds._sw.lat - maxBoundPadding];
      const maxBoundNE = [ bounds._ne.lng + maxBoundPadding, bounds._ne.lat + maxBoundPadding];
      const maxBounds = new maplibregl.LngLatBounds(maxBoundSW, maxBoundNE);
      
      const startCoordinate = coordinates.at(0);
      const endCoordinate = coordinates.at(-1);

      const routeTurfLine = turf.lineString(coordinates);
      const routeLength = turf.length(routeTurfLine);

      

      const map = new maplibregl.Map({
        container: 'gorai',
        style: 'https://tiles.stadiamaps.com/styles/osm_bright.json', 
        center: initialCoords, 
        zoom: initialZoom, 
        hash: false,
        maxBounds: maxBounds,
        
      });

      map.fitBounds(bounds, {
          padding: 60,
      });
      
      
      
      

      let nav = new maplibregl.NavigationControl({
        visualizePitch: true,
      });
      map.addControl(nav, 'top-left');
      
      let fullScreen = new maplibregl.FullscreenControl();
      map.addControl(fullScreen, 'top-left');

      let scale = new maplibregl.ScaleControl({
        maxWidth: 80,
        unit: 'metric',
      });
      map.addControl(scale);

      let logo = new maplibregl.LogoControl({
        compact: true,
      });
  
      map.addControl(logo, 'top-right');

      const markerStart = new maplibregl.Marker({ color: '#33aa66' })
        .setLngLat(startCoordinate)
        .addTo(map);

      const markerEnd = new maplibregl.Marker({ color: '#aa4433' })
        .setLngLat(endCoordinate)
        .addTo(map);

      map.on('load', () => {
        map.addSource('route', {
          type: 'geojson',
          data: gj,
        });

        map.addLayer({
          id: 'route',
          type: 'line',
          source: 'route',
          layout: {
            'line-join': 'round',
            'line-cap': 'round',
          },
          paint: {
            'line-color': '#2e2e2e',
            'line-width': 3,
            'line-opacity': 0.8,
          },
        });

        document.getElementById(
          'gorai__name'
        ).innerText = routeName;
      
        if (activityType){
          document.getElementById(
            'gorai__type'
          ).innerText = activityType;
        }
        
        document.getElementById(
          'gorai__distance'
        ).innerText = `Distance: ${formatNumber(routeLength)} km`;
        
        
        const timestamps = getTimestamps(gj);
        const startTime = new Date(timestamps.at(0));
        const endTime = new Date(timestamps.at(-1));

        const duration = Math.abs(endTime - startTime); 

        const avgSpeed = routeLength / (duration / 36e5);
        document.getElementById(
          'gorai__start-time'
        ).innerText = formatDate(startTime);

        if (duration){
          document.getElementById(
            'gorai__duration'
          ).innerText = `Duration: ${formatDuration(duration)}`;
          document.getElementById(
            'gorai__speed'
          ).innerText = `Avg. Speed: ${formatNumber(avgSpeed)} km/h`;
        }
      });
    })
    .catch(function (err) {
      console.log(err.message);
    })
  ;

  
  function getActivityType(geojson) {
    return geojson.features[0].properties.type;
  }
  
  function getRouteName(geojson) {
    return geojson.features[0].properties.name;
  }
  
  function getCoordinates(geojson) {
    return geojson.features[0].geometry.coordinates;
  }
  
  function getTimestamps(geojson) {
    return geojson.features[0].properties.coordTimes
  }
  
  function formatNumber (number, precision = 3) {
    if (typeof number === 'undefined' || number === null) return ''
  
    if (number === 0) return '0'
  
    const roundedValue = round(precision, number)
    const floorValue = Math.floor(roundedValue)
  
    const isInteger = Math.abs(floorValue - roundedValue) < Number.EPSILON
  
    const numberOfFloorDigits = String(floorValue).length
    const numberOfDigits = String(roundedValue).length
  
    if (numberOfFloorDigits > precision) {
      return String(floorValue)
    } else {
      const padding = isInteger ? precision - numberOfFloorDigits : precision - numberOfDigits + 1
  
      if (padding > 0) {
        if (isInteger) {
          return `${String(floorValue)}.${'0'.repeat(padding)}`
        } else {
          return `${String(roundedValue)}${'0'.repeat(padding)}`
        }
      } else {
        return String(roundedValue)
      }
    }
  }
  
  function round(precision, number) {
    return parseFloat(number.toPrecision(precision))
  }
  
  function formatDate(date) {
    const options = {
      year: "numeric",
      month: "long",
      day: "numeric",
      hour: "numeric",
      minute: "numeric",
      timeZone: "Asia/Kolkata"
    };
    return new Intl.DateTimeFormat("en-in", options).format(date);
  }

  function formatDuration(duration) {
    const seconds = Math.floor(duration / 1000);
    const minutes = Math.floor(seconds / 60);
    const hours = Math.floor(minutes / 60);
    const days = Math.floor(hours / 24);
    
    if (days >= 1) {
      return `${days}d ${hours % 24}h`;
    } else if (hours >= 1){
      return `${hours}h ${minutes % 60}m`;
    } else if (minutes >= 0) {
      return `${minutes}m ${seconds % 60}s`;
    } else {
      return "";
    }
  }
</script>

<style>
  #gorai__name {
    font-weight: 600;
  }
</style>

<h2 id="gallery">Gallery</h2>










    
        
    



    

 


    <figure class="gallery__figure">
        
        
        
        
        
            
                <div class="gallery__metadata">
                    
                        <div class="gallery__datetime">
                            <time datetime="2021-07-30T12:26&#43;0530">2021-07-30 12:26</time>
                        </div>
                    
                    
                    <div class="[ gallery__coords ] [ plain-link ]">
                        <a href="https://www.openstreetmap.org/?mlat=19.214980999999998&mlon=72.813693#map=16/19.214980999999998/72.813693&layers=N" rel="noopener" target="_blank">(19.215째, 72.814째)</a> 
                    </div>
                    
                </div>
            
        
        <img
        src="https://pranshugaba.com/trips/cycling-to-gorai/img/IMG_20210730_122630_hu5d189c2e0707f2cb80e3933d2f28e84b_1763215_1600x0_resize_q80_h2_box.webp"
        
        alt="A dog sits on a parked car.
"
        
        height="1200"
        width="1600"
        />
        
    </figure>


    

 


    <figure class="gallery__figure">
        
        
        
        
        
            
                <div class="gallery__metadata">
                    
                        <div class="gallery__datetime">
                            <time datetime="2021-07-30T12:36&#43;0530">2021-07-30 12:36</time>
                        </div>
                    
                    
                    <div class="[ gallery__coords ] [ plain-link ]">
                        <a href="https://www.openstreetmap.org/?mlat=19.214804972222222&mlon=72.81188697222223#map=16/19.214804972222222/72.81188697222223&layers=N" rel="noopener" target="_blank">(19.215째, 72.812째)</a> 
                    </div>
                    
                </div>
            
        
        <img
        src="https://pranshugaba.com/trips/cycling-to-gorai/img/IMG_20210730_123643_hu46d9b95d6e2780b8bfb612d9dec67f2b_1871057_1600x0_resize_q80_h2_box.webp"
        
        height="1200"
        width="1600"
        />
        
    </figure>


    

 


    <figure class="gallery__figure">
        
        
        
        
        
            
                <div class="gallery__metadata">
                    
                        <div class="gallery__datetime">
                            <time datetime="2021-07-30T13:01&#43;0530">2021-07-30 13:01</time>
                        </div>
                    
                    
                    <div class="[ gallery__coords ] [ plain-link ]">
                        <a href="https://www.openstreetmap.org/?mlat=19.233382972222223&mlon=72.82400799999999#map=16/19.233382972222223/72.82400799999999&layers=N" rel="noopener" target="_blank">(19.233째, 72.824째)</a> 
                    </div>
                    
                </div>
            
        
        <img
        src="https://pranshugaba.com/trips/cycling-to-gorai/img/IMG_20210730_130128_huef38318174eaf4b4f7ed97668207aec9_4111724_1600x0_resize_q80_h2_box.webp"
        
        height="1200"
        width="1600"
        />
        
    </figure>


    

 


    <figure class="gallery__figure">
        
        
        
        
        
            
                <div class="gallery__metadata">
                    
                        <div class="gallery__datetime">
                            <time datetime="2021-07-30T13:03&#43;0530">2021-07-30 13:03</time>
                        </div>
                    
                    
                    <div class="[ gallery__coords ] [ plain-link ]">
                        <a href="https://www.openstreetmap.org/?mlat=19.234608972222222&mlon=72.82171097222222#map=16/19.234608972222222/72.82171097222222&layers=N" rel="noopener" target="_blank">(19.235째, 72.822째)</a> 
                    </div>
                    
                </div>
            
        
        <img
        src="https://pranshugaba.com/trips/cycling-to-gorai/img/IMG_20210730_130355_hu060547e8cec4944d35b3e53ffd54d093_427668_1600x0_resize_q80_h2_box.webp"
        
        height="1200"
        width="1600"
        />
        
    </figure>


    

 


    <figure class="gallery__figure">
        
        
        
        
        
            
                <div class="gallery__metadata">
                    
                        <div class="gallery__datetime">
                            <time datetime="2021-07-30T13:04&#43;0530">2021-07-30 13:04</time>
                        </div>
                    
                    
                    <div class="[ gallery__coords ] [ plain-link ]">
                        <a href="https://www.openstreetmap.org/?mlat=19.234611&mlon=72.82170297222221#map=16/19.234611/72.82170297222221&layers=N" rel="noopener" target="_blank">(19.235째, 72.822째)</a> 
                    </div>
                    
                </div>
            
        
        <img
        src="https://pranshugaba.com/trips/cycling-to-gorai/img/IMG_20210730_130408_huce2dc2b8b8ce4e14cb035adb56a9b8f9_560231_1600x0_resize_q80_h2_box.webp"
        
        height="1200"
        width="1600"
        />
        
    </figure>


    

 


    <figure class="gallery__figure">
        
        
        
        
        
            
                <div class="gallery__metadata">
                    
                        <div class="gallery__datetime">
                            <time datetime="2021-07-30T13:05&#43;0530">2021-07-30 13:05</time>
                        </div>
                    
                    
                    <div class="[ gallery__coords ] [ plain-link ]">
                        <a href="https://www.openstreetmap.org/?mlat=19.234579&mlon=72.82172097222222#map=16/19.234579/72.82172097222222&layers=N" rel="noopener" target="_blank">(19.235째, 72.822째)</a> 
                    </div>
                    
                </div>
            
        
        <img
        src="https://pranshugaba.com/trips/cycling-to-gorai/img/IMG_20210730_130510_hu07b414ab596c6cfd12c0b7c65f4172ef_587519_1600x0_resize_q80_h2_box.webp"
        
        height="1200"
        width="1600"
        />
        
    </figure>


    

 


    <figure class="gallery__figure">
        
        
        
        
        
            
                <div class="gallery__metadata">
                    
                        <div class="gallery__datetime">
                            <time datetime="2021-07-30T13:05&#43;0530">2021-07-30 13:05</time>
                        </div>
                    
                    
                    <div class="[ gallery__coords ] [ plain-link ]">
                        <a href="https://www.openstreetmap.org/?mlat=19.234595972222223&mlon=72.82171799999999#map=16/19.234595972222223/72.82171799999999&layers=N" rel="noopener" target="_blank">(19.235째, 72.822째)</a> 
                    </div>
                    
                </div>
            
        
        <img
        src="https://pranshugaba.com/trips/cycling-to-gorai/img/IMG_20210730_130528_huf45c29bd9236a072943d7074b3865ef4_703603_1600x0_resize_q80_h2_box.webp"
        
        height="628"
        width="1600"
        />
        
    </figure>


    

 


    <figure class="gallery__figure">
        
        
        
        
        
            
                <div class="gallery__metadata">
                    
                        <div class="gallery__datetime">
                            <time datetime="2021-07-30T13:05&#43;0530">2021-07-30 13:05</time>
                        </div>
                    
                    
                    <div class="[ gallery__coords ] [ plain-link ]">
                        <a href="https://www.openstreetmap.org/?mlat=19.234608972222222&mlon=72.821736#map=16/19.234608972222222/72.821736&layers=N" rel="noopener" target="_blank">(19.235째, 72.822째)</a> 
                    </div>
                    
                </div>
            
        
        <img
        src="https://pranshugaba.com/trips/cycling-to-gorai/img/IMG_20210730_130540_hua4aeb528ce93a5bef99043b736122d60_543945_1600x0_resize_q80_h2_box.webp"
        
        height="1200"
        width="1600"
        />
        
    </figure>


    

 


    <figure class="gallery__figure">
        
        
        
        
        
            
                <div class="gallery__metadata">
                    
                        <div class="gallery__datetime">
                            <time datetime="2021-07-30T13:08&#43;0530">2021-07-30 13:08</time>
                        </div>
                    
                    
                    <div class="[ gallery__coords ] [ plain-link ]">
                        <a href="https://www.openstreetmap.org/?mlat=19.234584972222223&mlon=72.82176497222221#map=16/19.234584972222223/72.82176497222221&layers=N" rel="noopener" target="_blank">(19.235째, 72.822째)</a> 
                    </div>
                    
                </div>
            
        
        <img
        src="https://pranshugaba.com/trips/cycling-to-gorai/img/IMG_20210730_130833_hu44ea05286d354dae71a201465a992f8a_649878_1600x0_resize_q80_h2_box.webp"
        
        height="1200"
        width="1600"
        />
        
    </figure>


    

 


    <figure class="gallery__figure">
        
        
        
        
        
            
                <div class="gallery__metadata">
                    
                        <div class="gallery__datetime">
                            <time datetime="2021-07-30T13:09&#43;0530">2021-07-30 13:09</time>
                        </div>
                    
                    
                    <div class="[ gallery__coords ] [ plain-link ]">
                        <a href="https://www.openstreetmap.org/?mlat=19.234560972222223&mlon=72.82181097222222#map=16/19.234560972222223/72.82181097222222&layers=N" rel="noopener" target="_blank">(19.235째, 72.822째)</a> 
                    </div>
                    
                </div>
            
        
        <img
        src="https://pranshugaba.com/trips/cycling-to-gorai/img/IMG_20210730_130906_hu5b0b3e0156a7744387bd95271ff76999_1659219_0x1600_resize_q80_h2_box.webp"
        
        height="1600"
        width="1200"
        />
        
    </figure>


    

 


    <figure class="gallery__figure">
        
        
        
        
        
            
                <div class="gallery__metadata">
                    
                        <div class="gallery__datetime">
                            <time datetime="2021-07-30T13:09&#43;0530">2021-07-30 13:09</time>
                        </div>
                    
                    
                    <div class="[ gallery__coords ] [ plain-link ]">
                        <a href="https://www.openstreetmap.org/?mlat=19.234567972222223&mlon=72.82181299999999#map=16/19.234567972222223/72.82181299999999&layers=N" rel="noopener" target="_blank">(19.235째, 72.822째)</a> 
                    </div>
                    
                </div>
            
        
        <img
        src="https://pranshugaba.com/trips/cycling-to-gorai/img/IMG_20210730_130911_hu41cd2037c7cb6deffd3c1afbd817bb8b_1220939_0x1600_resize_q80_h2_box.webp"
        
        height="1600"
        width="1200"
        />
        
    </figure>


    

 


    <figure class="gallery__figure">
        
        
        
        
        
            
                <div class="gallery__metadata">
                    
                        <div class="gallery__datetime">
                            <time datetime="2021-07-30T13:09&#43;0530">2021-07-30 13:09</time>
                        </div>
                    
                    
                    <div class="[ gallery__coords ] [ plain-link ]">
                        <a href="https://www.openstreetmap.org/?mlat=19.234560972222223&mlon=72.82181197222222#map=16/19.234560972222223/72.82181197222222&layers=N" rel="noopener" target="_blank">(19.235째, 72.822째)</a> 
                    </div>
                    
                </div>
            
        
        <img
        src="https://pranshugaba.com/trips/cycling-to-gorai/img/IMG_20210730_130916_hu0bd53b9ddb1c854e18f907ca9199f081_1118665_0x1600_resize_q80_h2_box.webp"
        
        height="1600"
        width="1200"
        />
        
    </figure>


    

 


    <figure class="gallery__figure">
        
        
        
        
        
            
                <div class="gallery__metadata">
                    
                        <div class="gallery__datetime">
                            <time datetime="2021-07-30T13:10&#43;0530">2021-07-30 13:10</time>
                        </div>
                    
                    
                    <div class="[ gallery__coords ] [ plain-link ]">
                        <a href="https://www.openstreetmap.org/?mlat=19.234566&mlon=72.82182399999999#map=16/19.234566/72.82182399999999&layers=N" rel="noopener" target="_blank">(19.235째, 72.822째)</a> 
                    </div>
                    
                </div>
            
        
        <img
        src="https://pranshugaba.com/trips/cycling-to-gorai/img/IMG_20210730_131023_huac59436fdb9a38101f0fc28816d49d3f_626866_1600x0_resize_q80_h2_box.webp"
        
        height="1200"
        width="1600"
        />
        
    </figure>


    

 


    <figure class="gallery__figure">
        
        
        
        
        
            
                <div class="gallery__metadata">
                    
                        <div class="gallery__datetime">
                            <time datetime="2021-07-30T13:11&#43;0530">2021-07-30 13:11</time>
                        </div>
                    
                    
                    <div class="[ gallery__coords ] [ plain-link ]">
                        <a href="https://www.openstreetmap.org/?mlat=19.234414&mlon=72.82205599999999#map=16/19.234414/72.82205599999999&layers=N" rel="noopener" target="_blank">(19.234째, 72.822째)</a> 
                    </div>
                    
                </div>
            
        
        <img
        src="https://pranshugaba.com/trips/cycling-to-gorai/img/IMG_20210730_131159_hucd9c75b3500304ae6a32efbae734365f_590515_1600x0_resize_q80_h2_box.webp"
        
        height="1200"
        width="1600"
        />
        
    </figure>


    

 


    <figure class="gallery__figure">
        
        
        
        
        
            
                <div class="gallery__metadata">
                    
                        <div class="gallery__datetime">
                            <time datetime="2021-07-30T13:14&#43;0530">2021-07-30 13:14</time>
                        </div>
                    
                    
                    <div class="[ gallery__coords ] [ plain-link ]">
                        <a href="https://www.openstreetmap.org/?mlat=19.23326197222222&mlon=72.82450097222222#map=16/19.23326197222222/72.82450097222222&layers=N" rel="noopener" target="_blank">(19.233째, 72.825째)</a> 
                    </div>
                    
                </div>
            
        
        <img
        src="https://pranshugaba.com/trips/cycling-to-gorai/img/IMG_20210730_131412_huba30770af5d1e7bf1bcbc3f0d2c57715_1881769_1600x0_resize_q80_h2_box.webp"
        
        height="1200"
        width="1600"
        />
        
    </figure>


    

 


    <figure class="gallery__figure">
        
        
        
        
        
            
                <div class="gallery__metadata">
                    
                        <div class="gallery__datetime">
                            <time datetime="2021-07-30T13:16&#43;0530">2021-07-30 13:16</time>
                        </div>
                    
                    
                    <div class="[ gallery__coords ] [ plain-link ]">
                        <a href="https://www.openstreetmap.org/?mlat=19.23249797222222&mlon=72.82879899999999#map=16/19.23249797222222/72.82879899999999&layers=N" rel="noopener" target="_blank">(19.232째, 72.829째)</a> 
                    </div>
                    
                </div>
            
        
        <img
        src="https://pranshugaba.com/trips/cycling-to-gorai/img/IMG_20210730_131608_huc2c9e78c730f44f6ce95cc5d66aa8270_1206209_0x1600_resize_q80_h2_box.webp"
        
        height="1600"
        width="1200"
        />
        
    </figure>


    

 


    <figure class="gallery__figure">
        
        
        
        
        
            
                <div class="gallery__metadata">
                    
                        <div class="gallery__datetime">
                            <time datetime="2021-07-30T13:16&#43;0530">2021-07-30 13:16</time>
                        </div>
                    
                    
                    <div class="[ gallery__coords ] [ plain-link ]">
                        <a href="https://www.openstreetmap.org/?mlat=19.23245297222222&mlon=72.828805#map=16/19.23245297222222/72.828805&layers=N" rel="noopener" target="_blank">(19.232째, 72.829째)</a> 
                    </div>
                    
                </div>
            
        
        <img
        src="https://pranshugaba.com/trips/cycling-to-gorai/img/IMG_20210730_131634_hu91fc5ae909b51458892e7946430b3cb9_1858781_1600x0_resize_q80_h2_box.webp"
        
        height="1200"
        width="1600"
        />
        
    </figure>



]]></description></item></channel></rss>